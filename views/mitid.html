<main style="margin:0; padding: 0; box-sizing: border-box; font-weight: 300; 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
  <img src="/images/mitid.png" alt="mitid logo">
  <form onsubmit="return false" 
    style="width: 100%;">
    <div style="margin-top: 1rem;">
      <label for="user_name">MitId user name</label>
      <input name="user_name" id="user_name" type="text" placeholder="" 
        style="width: 100%; height: 4rem; margin-top: 0.5rem; 
        font-size: 1.2rem; padding-left: 0.5rem; outline: none; font-size: 1.1rem; font-family: inherit;">
    </div>    
    <div style="margin-top: 1rem;">
      <label for="user_name">MitId password</label>
      <input name="user_password" type="password" placeholder=""
        style="width: 100%; height: 4rem; margin-top: 0.5rem; 
        font-size: 1.2rem; padding-left: 0.5rem; outline: none; font-size: 1.1rem; font-family: inherit;">
    </div>

    <button onclick="login()" 
      style="width: 100%; height: 4rem; margin-top: 0.5rem; font-size: 1.2rem;">
      login
    </button>
  </form>
  <script>

    async function login(){
      let form = document.querySelector("form")
      let conn = await fetch("/api-login", {
        method: "POST",
        body : new FormData(form)
      })
      let res = await conn.text()
      console.log("MITID says:", res)
      if (res == "NO"){parent.postMessage("NO", "*"); return}
      // SUCCESS
      parent.postMessage("WOW", "*")
    }

  </script>
</main>